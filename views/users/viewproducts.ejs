<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
    <%- include('../partials/header') %>
    <div class="container">
      <br>
      <br>
        <div class="row">
            <div class="col-12 col-lg-6">
              <div class="bg-secondary">  
                <img src="/<%= products[0].pic %>" style="width: 100%;" alt="">
              </div>
            </div>
            <div class="col-12 col-lg-6">
              <h2><%= products[0].productname %></h2>
              <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quisquam ducimus saepe sequi illo, ad rerum earum tempore magnam doloribus modi illum facilis, explicabo laudantium nemo maiores praesentium ipsa ipsum dolorem. Perspiciatis rem est mollitia perferendis ex inventore quisquam itaque, recusandae ab fuga qui, obcaecati nemo! Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime blanditiis eius eveniet ab dolores quidem excepturi laborum dolorum, quas natus rerum doloremque eaque, nesciunt exercitationem molestias necessitatibus. Explicabo quia repudiandae quo porro magni ea facere repellat harum facilis adipisci eveniet incidunt tempore ullam tenetur, enim quidem expedita cum perspiciatis suscipit. Mollitia architecto quo eligendi dolorem quia, nam impedit repellendus cum atque odio inventore voluptas blanditiis, corrupti qui id aliquam reprehenderit doloribus eos eveniet deleniti temporibus quae ab. Facere ratione dolores impedit illo natus ducimus, eligendi reiciendis et similique officia eaque! Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ducimus, molestiae delectus, modi est nobis obcaecati totam ad sunt sequi dolorem, iure consequatur enim fuga praesentium non accusantium quasi beatae? Pariatur, mollitia commodi a quasi maxime optio at repudiandae inventore quod veniam natus consectetur, asperiores hic placeat debitis repellendus? Omnis accusamus sint aliquid reprehenderit soluta nihil dolorum placeat odit repellendus, dignissimos a ratione tenetur similique voluptate, vel explicabo amet id quis neque est temporibus! Ut ipsum pariatur, beatae excepturi debitis autem assumenda adipisci mollitia nulla earum, quod ullam rem, voluptas possimus.</p>
              <h2>₹ <%= products[0].price %></h2>
              <br>
              <div class="d-grid gap-2">
                <a href="" class="btn btn-outline-success btn-lg">Pay ₹<%= products[0].price %></a>
                <button id="rzp-button1">Pay with Razorpay</button>

              </div>
            </div>
        </div>
    </div>
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script>
      var options = {
          "key": "e8gS3lZzZCJRzFPdePn6NGQ3", // Enter the Key ID generated from the Dashboard
          "amount": "50000", // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
          "currency": "INR",
          "name": "Acme Corp",
          "description": "Test Transaction",
          "image": "https://example.com/your_logo",
          "order_id": "order_IluGWxBm9U8zJ8", //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
          "handler": function (response){
              alert(response.razorpay_payment_id);
              alert(response.razorpay_order_id);
              alert(response.razorpay_signature)
          },
          "prefill": {
              "name": "Gaurav Kumar",
              "email": "gaurav.kumar@example.com",
              "contact": "9000090000"
          },
          "notes": {
              "address": "Razorpay Corporate Office"
          },
          "theme": {
              "color": "#3399cc"
          }
      };
      var rzp1 = new Razorpay(options);
      rzp1.on('payment.failed', function (response){
              alert(response.error.code);
              alert(response.error.description);
              alert(response.error.source);
              alert(response.error.step);
              alert(response.error.reason);
              alert(response.error.metadata.order_id);
              alert(response.error.metadata.payment_id);
      });
      document.getElementById('rzp-button1').onclick = function(e){
          rzp1.open();
          e.preventDefault();
      }
      </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>